{"ast":null,"code":"var _jsxFileName = \"/Users/huunguyent./Desktop/untitled folder 2/homework1/src/pages/payment/index.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport style from './style.module.scss';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { useForm } from \"react-hook-form\";\nimport * as yup from 'yup';\nimport * as CardValidator from 'card-validator';\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst schema = yup.object({\n  cardNumber: yup.string().required('card number required').test('errorCode', 'error card number', val => CardValidator.number(val).isValid === true),\n  expireDate: yup.string().required('expire date required').test('errorExpireDate', 'error expire date', val => CardValidator.expirationDate(val).isValid === true),\n  securityCode: yup.string().required('security code required').test('errorSecurityCode', 'error security code', val => CardValidator.postalCode(val).isValid === true)\n}).required();\n\nconst Payment = () => {\n  _s();\n\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm({\n    mode: 'onBlur',\n    resolver: yupResolver(schema)\n  });\n  const history = useHistory();\n  const pizza = JSON.parse(localStorage.getItem('type')) || {};\n  const toppings = JSON.parse(localStorage.getItem('toppings')) || [];\n  useEffect(() => {\n    if (toppings.length === 0 || Object.keys(pizza).length <= 0) {\n      history.push('/');\n    }\n  }, []);\n\n  const onSubmit = data => {\n    const info = { ...data,\n      type: pizza.type,\n      toppings: toppings.map(item => item.type)\n    };\n    alert(JSON.stringify(info));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: style.formInfo,\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: \"./images/bg.jpeg\",\n      className: style.image,\n      alt: \"bg\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: style.form,\n      onSubmit: handleSubmit(onSubmit),\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: style.formTitle,\n        children: \"Your info\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.formDouble,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: style.labelText,\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: style.formInput,\n            ...register(\"name\", {\n              required: true\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 13\n          }, this), errors.name && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: style.error,\n            children: errors.name.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: style.labelText,\n            children: \"House number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: style.formInput,\n            ...register(\"houseNumber\", {\n              required: true\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: style.labelText,\n          children: \"Street\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: style.formInput,\n          ...register(\"street\", {\n            required: true\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.formDouble,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: style.labelText,\n            children: \"Postal code\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: style.formInput,\n            ...register(\"postalCode\", {\n              required: true\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: style.labelText,\n            children: \"City\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: style.formInput,\n            ...register(\"city\", {\n              required: true\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.formDouble,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: style.labelText,\n            children: \"Phone number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: style.formInput,\n            ...register(\"phoneNumber\", {\n              required: true\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: style.labelText,\n            children: \"Credit card\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: style.formInput,\n            ...register(\"cardNumber\", {\n              required: true\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this), errors.cardNumber && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: style.error,\n            children: errors.cardNumber.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 35\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.formDouble,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: style.labelText,\n            children: \"Expiration date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: style.formInput,\n            ...register(\"expireDate\", {\n              required: true\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), errors.expireDate && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: style.error,\n            children: errors.expireDate.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 35\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: style.labelText,\n            children: \"Security Code\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: style.formInput,\n            ...register(\"securityCode\", {\n              required: true\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), errors.securityCode && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: style.error,\n            children: errors.securityCode.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: style.orderBtn,\n        children: \"Order\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Payment, \"TByIeozXsfDsB930cT0UHQ6xO+k=\", false, function () {\n  return [useForm, useHistory];\n});\n\n_c = Payment;\nexport default Payment;\n\nvar _c;\n\n$RefreshReg$(_c, \"Payment\");","map":{"version":3,"sources":["/Users/huunguyent./Desktop/untitled folder 2/homework1/src/pages/payment/index.jsx"],"names":["React","useEffect","style","yupResolver","useForm","yup","CardValidator","useHistory","schema","object","cardNumber","string","required","test","val","number","isValid","expireDate","expirationDate","securityCode","postalCode","Payment","register","handleSubmit","formState","errors","mode","resolver","history","pizza","JSON","parse","localStorage","getItem","toppings","length","Object","keys","push","onSubmit","data","info","type","map","item","alert","stringify","formInfo","image","form","formTitle","formDouble","labelText","formInput","name","error","message","orderBtn"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport style from './style.module.scss';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { useForm } from \"react-hook-form\";\nimport * as yup from 'yup';\nimport * as CardValidator from 'card-validator';\nimport { useHistory } from 'react-router-dom';\n\nconst schema = yup.object({\n  cardNumber: yup.string().required('card number required').test('errorCode', 'error card number', (val) => CardValidator.number(val).isValid === true),\n  expireDate: yup.string().required('expire date required').test('errorExpireDate', 'error expire date', (val) => CardValidator.expirationDate(val).isValid === true),\n  securityCode: yup.string().required('security code required').test('errorSecurityCode', 'error security code', (val) => CardValidator.postalCode(val).isValid === true),\n}).required();\n\nconst Payment = () => {\n  const { register, handleSubmit, formState: { errors } } = useForm({\n    mode: 'onBlur',\n    resolver: yupResolver(schema)\n  });\n\n  const history = useHistory();\n  const pizza = JSON.parse(localStorage.getItem('type')) || {};\n  const toppings = JSON.parse(localStorage.getItem('toppings')) || [];\n\n  useEffect(() => {\n    if(toppings.length === 0 || Object.keys(pizza).length <= 0) {\n      history.push('/');\n    }\n  }, [])\n\n  const onSubmit = data => {\n    const info = {\n      ...data,\n      type: pizza.type,\n      toppings: toppings.map(item => item.type)\n    }\n    alert(JSON.stringify(info))\n  }\n\n  return (\n    <div className={style.formInfo}>\n      <img src='./images/bg.jpeg' className={style.image} alt='bg' />\n      <form className={style.form} onSubmit={handleSubmit(onSubmit)}>\n        <h2 className={style.formTitle}>Your info</h2>\n        <div className={style.formDouble}>\n          <label>\n            <span className={style.labelText}>Name</span>\n            <input className={style.formInput} {...register(\"name\", { required: true })} />\n            {errors.name && <span className={style.error}>{errors.name.message}</span>}\n          </label>\n          <label>\n            <span className={style.labelText}>House number</span>\n            <input className={style.formInput} {...register(\"houseNumber\", { required: true })} />\n          </label>\n        </div>\n        <label>\n          <span className={style.labelText}>Street</span>\n          <input className={style.formInput} {...register(\"street\", { required: true })} />\n        </label>\n        <div className={style.formDouble}>\n          <label>\n            <span className={style.labelText}>Postal code</span>\n            <input className={style.formInput} {...register(\"postalCode\", { required: true })} />\n          </label>\n          <label>\n            <span className={style.labelText}>City</span>\n            <input className={style.formInput} {...register(\"city\", { required: true })} />\n          </label>\n        </div>\n        <div className={style.formDouble}>\n          <label>\n            <span className={style.labelText}>Phone number</span>\n            <input className={style.formInput} {...register(\"phoneNumber\", { required: true })} />\n          </label>\n          <label>\n            <span className={style.labelText}>Credit card</span>\n            <input className={style.formInput} {...register(\"cardNumber\", { required: true })} />\n            {errors.cardNumber && <span className={style.error}>{errors.cardNumber.message}</span>}\n          </label>\n        </div>\n        <div className={style.formDouble}>\n          <label>\n            <span className={style.labelText}>Expiration date</span>\n            <input className={style.formInput} {...register(\"expireDate\", { required: true })} />\n            {errors.expireDate && <span className={style.error}>{errors.expireDate.message}</span>}\n          </label>\n          <label>\n            <span className={style.labelText}>Security Code</span>\n            <input className={style.formInput} {...register(\"securityCode\", { required: true })} />\n            {errors.securityCode && <span className={style.error}>{errors.securityCode.message}</span>}\n          </label>\n          </div>\n        <button className={style.orderBtn}>Order</button>\n      </form>\n    </div>\n  )\n}\n\nexport default Payment"]},"metadata":{},"sourceType":"module"}
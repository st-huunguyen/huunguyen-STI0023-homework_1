{"ast":null,"code":"var _jsxFileName = \"/Users/huunguyent./Desktop/untitled folder 2/homework1/src/pages/payment/index.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport style from './style.module.scss';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { useForm } from \"react-hook-form\";\nimport * as yup from 'yup';\nimport * as CardValidator from 'card-validator';\nimport { useHistory } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst schema = yup.object({\n  cardNumber: yup.string().required('card number required').test('errorCode', 'error card number', val => CardValidator.number(val).isValid === true),\n  expireDate: yup.string().required('expire date required').test('errorExpireDate', 'error expire date', val => CardValidator.expirationDate(val).isValid === true),\n  securityCode: yup.string().required('security code required').test('errorSecurityCode', 'error security code', val => CardValidator.postalCode(val).isValid === true)\n}).required();\n\nconst Payment = () => {\n  _s();\n\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm({\n    mode: 'onBlur',\n    resolver: yupResolver(schema)\n  });\n  const history = useHistory();\n  const size = useSelector(state => state.orderReducer.size);\n  const toppings = useSelector(state => state.orderReducer.listTopping);\n  const orderValue = useSelector(state => state.orderReducer.orderValue);\n  useEffect(() => {\n    if (toppings.length === 0 || Object.keys(pizza).length <= 0) {\n      history.push('/');\n    }\n  }, []);\n\n  const onSubmit = data => {\n    const info = { ...data,\n      type: size.text,\n      toppings: toppings.map(item => item.text)\n    };\n    alert(JSON.stringify(info));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: style.formInfo,\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: \"./images/bg.jpeg\",\n      className: style.image,\n      alt: \"bg\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: style.form,\n      onSubmit: handleSubmit(onSubmit),\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: style.formTitle,\n        children: \"Your info\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.formDouble,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: style.labelText,\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: style.formInput,\n            ...register(\"name\", {\n              required: true\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this), errors.name && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: style.error,\n            children: errors.name.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: style.labelText,\n            children: \"House number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: style.formInput,\n            ...register(\"houseNumber\", {\n              required: true\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: style.labelText,\n          children: \"Street\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: style.formInput,\n          ...register(\"street\", {\n            required: true\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.formDouble,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: style.labelText,\n            children: \"Postal code\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: style.formInput,\n            ...register(\"postalCode\", {\n              required: true\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: style.labelText,\n            children: \"City\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: style.formInput,\n            ...register(\"city\", {\n              required: true\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.formDouble,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: style.labelText,\n            children: \"Phone number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: style.formInput,\n            ...register(\"phoneNumber\", {\n              required: true\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: style.labelText,\n            children: \"Credit card\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: style.formInput,\n            ...register(\"cardNumber\", {\n              required: true\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), errors.cardNumber && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: style.error,\n            children: errors.cardNumber.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 35\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.formDouble,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: style.labelText,\n            children: \"Expiration date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: style.formInput,\n            ...register(\"expireDate\", {\n              required: true\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this), errors.expireDate && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: style.error,\n            children: errors.expireDate.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 35\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: style.labelText,\n            children: \"Security Code\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: style.formInput,\n            ...register(\"securityCode\", {\n              required: true\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), errors.securityCode && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: style.error,\n            children: errors.securityCode.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: style.orderBtn,\n        children: \"Order\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Payment, \"T/HIYpHwJchnuXy4cJyhRD6BFgw=\", false, function () {\n  return [useForm, useHistory, useSelector, useSelector, useSelector];\n});\n\n_c = Payment;\nexport default Payment;\n\nvar _c;\n\n$RefreshReg$(_c, \"Payment\");","map":{"version":3,"sources":["/Users/huunguyent./Desktop/untitled folder 2/homework1/src/pages/payment/index.jsx"],"names":["React","useEffect","style","yupResolver","useForm","yup","CardValidator","useHistory","useSelector","schema","object","cardNumber","string","required","test","val","number","isValid","expireDate","expirationDate","securityCode","postalCode","Payment","register","handleSubmit","formState","errors","mode","resolver","history","size","state","orderReducer","toppings","listTopping","orderValue","length","Object","keys","pizza","push","onSubmit","data","info","type","text","map","item","alert","JSON","stringify","formInfo","image","form","formTitle","formDouble","labelText","formInput","name","error","message","orderBtn"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,SAASC,WAAT,QAA4B,yBAA5B;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AACA,OAAO,KAAKC,aAAZ,MAA+B,gBAA/B;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,WAAT,QAA4B,aAA5B;;AAEA,MAAMC,MAAM,GAAGJ,GAAG,CAACK,MAAJ,CAAW;AACxBC,EAAAA,UAAU,EAAEN,GAAG,CAACO,MAAJ,GAAaC,QAAb,CAAsB,sBAAtB,EAA8CC,IAA9C,CAAmD,WAAnD,EAAgE,mBAAhE,EAAsFC,GAAD,IAAST,aAAa,CAACU,MAAd,CAAqBD,GAArB,EAA0BE,OAA1B,KAAsC,IAApI,CADY;AAExBC,EAAAA,UAAU,EAAEb,GAAG,CAACO,MAAJ,GAAaC,QAAb,CAAsB,sBAAtB,EAA8CC,IAA9C,CAAmD,iBAAnD,EAAsE,mBAAtE,EAA4FC,GAAD,IAAST,aAAa,CAACa,cAAd,CAA6BJ,GAA7B,EAAkCE,OAAlC,KAA8C,IAAlJ,CAFY;AAGxBG,EAAAA,YAAY,EAAEf,GAAG,CAACO,MAAJ,GAAaC,QAAb,CAAsB,wBAAtB,EAAgDC,IAAhD,CAAqD,mBAArD,EAA0E,qBAA1E,EAAkGC,GAAD,IAAST,aAAa,CAACe,UAAd,CAAyBN,GAAzB,EAA8BE,OAA9B,KAA0C,IAApJ;AAHU,CAAX,EAIZJ,QAJY,EAAf;;AAMA,MAAMS,OAAO,GAAG,MAAM;AAAA;;AACpB,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,YAAZ;AAA0BC,IAAAA,SAAS,EAAE;AAAEC,MAAAA;AAAF;AAArC,MAAoDtB,OAAO,CAAC;AAChEuB,IAAAA,IAAI,EAAE,QAD0D;AAEhEC,IAAAA,QAAQ,EAAEzB,WAAW,CAACM,MAAD;AAF2C,GAAD,CAAjE;AAKA,QAAMoB,OAAO,GAAGtB,UAAU,EAA1B;AAEA,QAAMuB,IAAI,GAAGtB,WAAW,CAAEuB,KAAD,IAAWA,KAAK,CAACC,YAAN,CAAmBF,IAA/B,CAAxB;AACA,QAAMG,QAAQ,GAAGzB,WAAW,CAAEuB,KAAD,IAAWA,KAAK,CAACC,YAAN,CAAmBE,WAA/B,CAA5B;AACA,QAAMC,UAAU,GAAG3B,WAAW,CAAEuB,KAAD,IAAWA,KAAK,CAACC,YAAN,CAAmBG,UAA/B,CAA9B;AAEAlC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAGgC,QAAQ,CAACG,MAAT,KAAoB,CAApB,IAAyBC,MAAM,CAACC,IAAP,CAAYC,KAAZ,EAAmBH,MAAnB,IAA6B,CAAzD,EAA4D;AAC1DP,MAAAA,OAAO,CAACW,IAAR,CAAa,GAAb;AACD;AACF,GAJQ,EAIN,EAJM,CAAT;;AAMA,QAAMC,QAAQ,GAAGC,IAAI,IAAI;AACvB,UAAMC,IAAI,GAAG,EACX,GAAGD,IADQ;AAEXE,MAAAA,IAAI,EAAEd,IAAI,CAACe,IAFA;AAGXZ,MAAAA,QAAQ,EAAEA,QAAQ,CAACa,GAAT,CAAaC,IAAI,IAAIA,IAAI,CAACF,IAA1B;AAHC,KAAb;AAKAG,IAAAA,KAAK,CAACC,IAAI,CAACC,SAAL,CAAeP,IAAf,CAAD,CAAL;AACD,GAPD;;AASA,sBACE;AAAK,IAAA,SAAS,EAAEzC,KAAK,CAACiD,QAAtB;AAAA,4BACE;AAAK,MAAA,GAAG,EAAC,kBAAT;AAA4B,MAAA,SAAS,EAAEjD,KAAK,CAACkD,KAA7C;AAAoD,MAAA,GAAG,EAAC;AAAxD;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAM,MAAA,SAAS,EAAElD,KAAK,CAACmD,IAAvB;AAA6B,MAAA,QAAQ,EAAE7B,YAAY,CAACiB,QAAD,CAAnD;AAAA,8BACE;AAAI,QAAA,SAAS,EAAEvC,KAAK,CAACoD,SAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAK,QAAA,SAAS,EAAEpD,KAAK,CAACqD,UAAtB;AAAA,gCACE;AAAA,kCACE;AAAM,YAAA,SAAS,EAAErD,KAAK,CAACsD,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAO,YAAA,SAAS,EAAEtD,KAAK,CAACuD,SAAxB;AAAA,eAAuClC,QAAQ,CAAC,MAAD,EAAS;AAAEV,cAAAA,QAAQ,EAAE;AAAZ,aAAT;AAA/C;AAAA;AAAA;AAAA;AAAA,kBAFF,EAGGa,MAAM,CAACgC,IAAP,iBAAe;AAAM,YAAA,SAAS,EAAExD,KAAK,CAACyD,KAAvB;AAAA,sBAA+BjC,MAAM,CAACgC,IAAP,CAAYE;AAA3C;AAAA;AAAA;AAAA;AAAA,kBAHlB;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAME;AAAA,kCACE;AAAM,YAAA,SAAS,EAAE1D,KAAK,CAACsD,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAO,YAAA,SAAS,EAAEtD,KAAK,CAACuD,SAAxB;AAAA,eAAuClC,QAAQ,CAAC,aAAD,EAAgB;AAAEV,cAAAA,QAAQ,EAAE;AAAZ,aAAhB;AAA/C;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBANF;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,eAaE;AAAA,gCACE;AAAM,UAAA,SAAS,EAAEX,KAAK,CAACsD,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAO,UAAA,SAAS,EAAEtD,KAAK,CAACuD,SAAxB;AAAA,aAAuClC,QAAQ,CAAC,QAAD,EAAW;AAAEV,YAAAA,QAAQ,EAAE;AAAZ,WAAX;AAA/C;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cAbF,eAiBE;AAAK,QAAA,SAAS,EAAEX,KAAK,CAACqD,UAAtB;AAAA,gCACE;AAAA,kCACE;AAAM,YAAA,SAAS,EAAErD,KAAK,CAACsD,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAO,YAAA,SAAS,EAAEtD,KAAK,CAACuD,SAAxB;AAAA,eAAuClC,QAAQ,CAAC,YAAD,EAAe;AAAEV,cAAAA,QAAQ,EAAE;AAAZ,aAAf;AAA/C;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAKE;AAAA,kCACE;AAAM,YAAA,SAAS,EAAEX,KAAK,CAACsD,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAO,YAAA,SAAS,EAAEtD,KAAK,CAACuD,SAAxB;AAAA,eAAuClC,QAAQ,CAAC,MAAD,EAAS;AAAEV,cAAAA,QAAQ,EAAE;AAAZ,aAAT;AAA/C;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF;AAAA;AAAA;AAAA;AAAA;AAAA,cAjBF,eA2BE;AAAK,QAAA,SAAS,EAAEX,KAAK,CAACqD,UAAtB;AAAA,gCACE;AAAA,kCACE;AAAM,YAAA,SAAS,EAAErD,KAAK,CAACsD,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAO,YAAA,SAAS,EAAEtD,KAAK,CAACuD,SAAxB;AAAA,eAAuClC,QAAQ,CAAC,aAAD,EAAgB;AAAEV,cAAAA,QAAQ,EAAE;AAAZ,aAAhB;AAA/C;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAKE;AAAA,kCACE;AAAM,YAAA,SAAS,EAAEX,KAAK,CAACsD,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAO,YAAA,SAAS,EAAEtD,KAAK,CAACuD,SAAxB;AAAA,eAAuClC,QAAQ,CAAC,YAAD,EAAe;AAAEV,cAAAA,QAAQ,EAAE;AAAZ,aAAf;AAA/C;AAAA;AAAA;AAAA;AAAA,kBAFF,EAGGa,MAAM,CAACf,UAAP,iBAAqB;AAAM,YAAA,SAAS,EAAET,KAAK,CAACyD,KAAvB;AAAA,sBAA+BjC,MAAM,CAACf,UAAP,CAAkBiD;AAAjD;AAAA;AAAA;AAAA;AAAA,kBAHxB;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF;AAAA;AAAA;AAAA;AAAA;AAAA,cA3BF,eAsCE;AAAK,QAAA,SAAS,EAAE1D,KAAK,CAACqD,UAAtB;AAAA,gCACE;AAAA,kCACE;AAAM,YAAA,SAAS,EAAErD,KAAK,CAACsD,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAO,YAAA,SAAS,EAAEtD,KAAK,CAACuD,SAAxB;AAAA,eAAuClC,QAAQ,CAAC,YAAD,EAAe;AAAEV,cAAAA,QAAQ,EAAE;AAAZ,aAAf;AAA/C;AAAA;AAAA;AAAA;AAAA,kBAFF,EAGGa,MAAM,CAACR,UAAP,iBAAqB;AAAM,YAAA,SAAS,EAAEhB,KAAK,CAACyD,KAAvB;AAAA,sBAA+BjC,MAAM,CAACR,UAAP,CAAkB0C;AAAjD;AAAA;AAAA;AAAA;AAAA,kBAHxB;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAME;AAAA,kCACE;AAAM,YAAA,SAAS,EAAE1D,KAAK,CAACsD,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAO,YAAA,SAAS,EAAEtD,KAAK,CAACuD,SAAxB;AAAA,eAAuClC,QAAQ,CAAC,cAAD,EAAiB;AAAEV,cAAAA,QAAQ,EAAE;AAAZ,aAAjB;AAA/C;AAAA;AAAA;AAAA;AAAA,kBAFF,EAGGa,MAAM,CAACN,YAAP,iBAAuB;AAAM,YAAA,SAAS,EAAElB,KAAK,CAACyD,KAAvB;AAAA,sBAA+BjC,MAAM,CAACN,YAAP,CAAoBwC;AAAnD;AAAA;AAAA;AAAA;AAAA,kBAH1B;AAAA;AAAA;AAAA;AAAA;AAAA,gBANF;AAAA;AAAA;AAAA;AAAA;AAAA,cAtCF,eAkDE;AAAQ,QAAA,SAAS,EAAE1D,KAAK,CAAC2D,QAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAlDF;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAyDD,CApFD;;GAAMvC,O;UACsDlB,O,EAK1CG,U,EAEHC,W,EACIA,W,EACEA,W;;;KAVfc,O;AAsFN,eAAeA,OAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport style from './style.module.scss';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { useForm } from \"react-hook-form\";\nimport * as yup from 'yup';\nimport * as CardValidator from 'card-validator';\nimport { useHistory } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nconst schema = yup.object({\n  cardNumber: yup.string().required('card number required').test('errorCode', 'error card number', (val) => CardValidator.number(val).isValid === true),\n  expireDate: yup.string().required('expire date required').test('errorExpireDate', 'error expire date', (val) => CardValidator.expirationDate(val).isValid === true),\n  securityCode: yup.string().required('security code required').test('errorSecurityCode', 'error security code', (val) => CardValidator.postalCode(val).isValid === true),\n}).required();\n\nconst Payment = () => {\n  const { register, handleSubmit, formState: { errors } } = useForm({\n    mode: 'onBlur',\n    resolver: yupResolver(schema)\n  });\n\n  const history = useHistory();\n\n  const size = useSelector((state) => state.orderReducer.size);\n  const toppings = useSelector((state) => state.orderReducer.listTopping);\n  const orderValue = useSelector((state) => state.orderReducer.orderValue);\n\n  useEffect(() => {\n    if(toppings.length === 0 || Object.keys(pizza).length <= 0) {\n      history.push('/');\n    }\n  }, [])\n\n  const onSubmit = data => {\n    const info = {\n      ...data,\n      type: size.text,\n      toppings: toppings.map(item => item.text)\n    }\n    alert(JSON.stringify(info))\n  }\n\n  return (\n    <div className={style.formInfo}>\n      <img src='./images/bg.jpeg' className={style.image} alt='bg' />\n      <form className={style.form} onSubmit={handleSubmit(onSubmit)}>\n        <h2 className={style.formTitle}>Your info</h2>\n        <div className={style.formDouble}>\n          <label>\n            <span className={style.labelText}>Name</span>\n            <input className={style.formInput} {...register(\"name\", { required: true })} />\n            {errors.name && <span className={style.error}>{errors.name.message}</span>}\n          </label>\n          <label>\n            <span className={style.labelText}>House number</span>\n            <input className={style.formInput} {...register(\"houseNumber\", { required: true })} />\n          </label>\n        </div>\n        <label>\n          <span className={style.labelText}>Street</span>\n          <input className={style.formInput} {...register(\"street\", { required: true })} />\n        </label>\n        <div className={style.formDouble}>\n          <label>\n            <span className={style.labelText}>Postal code</span>\n            <input className={style.formInput} {...register(\"postalCode\", { required: true })} />\n          </label>\n          <label>\n            <span className={style.labelText}>City</span>\n            <input className={style.formInput} {...register(\"city\", { required: true })} />\n          </label>\n        </div>\n        <div className={style.formDouble}>\n          <label>\n            <span className={style.labelText}>Phone number</span>\n            <input className={style.formInput} {...register(\"phoneNumber\", { required: true })} />\n          </label>\n          <label>\n            <span className={style.labelText}>Credit card</span>\n            <input className={style.formInput} {...register(\"cardNumber\", { required: true })} />\n            {errors.cardNumber && <span className={style.error}>{errors.cardNumber.message}</span>}\n          </label>\n        </div>\n        <div className={style.formDouble}>\n          <label>\n            <span className={style.labelText}>Expiration date</span>\n            <input className={style.formInput} {...register(\"expireDate\", { required: true })} />\n            {errors.expireDate && <span className={style.error}>{errors.expireDate.message}</span>}\n          </label>\n          <label>\n            <span className={style.labelText}>Security Code</span>\n            <input className={style.formInput} {...register(\"securityCode\", { required: true })} />\n            {errors.securityCode && <span className={style.error}>{errors.securityCode.message}</span>}\n          </label>\n          </div>\n        <button className={style.orderBtn}>Order</button>\n      </form>\n    </div>\n  )\n}\n\nexport default Payment"]},"metadata":{},"sourceType":"module"}